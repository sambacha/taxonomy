(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8719],{1846:function(e,t,n){Promise.resolve().then(n.bind(n,8527)),Promise.resolve().then(n.t.bind(n,849,23)),Promise.resolve().then(n.bind(n,6834))},8527:function(e,t,n){"use strict";n.r(t),n.d(t,{PostCreateButton:function(){return l}});var r=n(4193),s=n(933),i=n(2226),o=n(7255),a=n(1292),c=n(3530);function l(e){let{className:t,...n}=e,l=(0,i.useRouter)(),[u,d]=s.useState(!1);async function f(){d(!0);let e=await fetch("/api/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"Untitled Post"})});if(d(!1),!(null==e?void 0:e.ok))return 402===e.status?(0,c.toast)({title:"Limit of 3 posts reached.",message:"Please upgrade to the PRO plan.",type:"error"}):(0,c.toast)({title:"Something went wrong.",message:"Your post was not created. Please try again.",type:"error"});let t=await e.json();l.refresh(),l.push("/editor/".concat(t.id))}return(0,r.jsxs)("button",{onClick:f,className:(0,o.cn)("relative inline-flex h-9 items-center rounded-md border border-transparent bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2",{"cursor-not-allowed opacity-60":u},t),disabled:u,...n,children:[u?(0,r.jsx)(a.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(a.P.add,{className:"mr-2 h-4 w-4"}),"New post"]})}},6834:function(e,t,n){"use strict";n.r(t),n.d(t,{PostOperations:function(){return h}});var r=n(4193),s=n(933),i=n(5676),o=n.n(i),a=n(2226),c=n(7764),l=n(1292),u=n(3670),d=n(7255);function f(e){let{...t}=e;return(0,r.jsx)(u.fC,{...t})}f.Trigger=s.forwardRef(function(e,t){let{...n}=e;return(0,r.jsx)(u.xz,{...n,ref:t})}),f.Portal=u.h_,f.Content=s.forwardRef(function(e,t){let{className:n,...s}=e;return(0,r.jsx)(f.Portal,{children:(0,r.jsx)(u.aV,{className:"fixed inset-0 z-40 bg-black/50 opacity-100 transition-opacity animate-in fade-in",children:(0,r.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:(0,r.jsx)(u.VY,{ref:t,className:(0,d.cn)("fixed z-50 grid w-[95vw] max-w-md scale-100 gap-4 rounded-lg bg-white p-6 opacity-100 animate-in fade-in-90 zoom-in-90 focus:outline-none focus-visible:ring focus-visible:ring-purple-500 focus-visible:ring-opacity-75 md:w-full",n),...s})})})})}),f.Header=function(e){let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,d.cn)("grid gap-1",t),...n})},f.Title=s.forwardRef(function(e,t){let{className:n,...s}=e;return(0,r.jsx)(u.Dx,{ref:t,className:(0,d.cn)("text-lg font-semibold text-slate-900",n),...s})}),f.Description=s.forwardRef(function(e,t){let{className:n,...s}=e;return(0,r.jsx)(u.dk,{ref:t,className:(0,d.cn)("text-sm text-neutral-500",n),...s})}),f.Footer=function(e){let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,d.cn)("flex justify-end space-x-2",t),...n})},f.Cancel=s.forwardRef(function(e,t){let{className:n,...s}=e;return(0,r.jsx)(u.$j,{ref:t,className:(0,d.cn)("relative inline-flex h-9 items-center rounded-md border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-brand-900 hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",n),...s})}),f.Action=s.forwardRef(function(e,t){let{className:n,...s}=e;return(0,r.jsx)(u.aU,{ref:t,className:(0,d.cn)("relative inline-flex h-9 items-center rounded-md border border-transparent bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2",n),...s})});var m=n(3530);async function x(e){let t=await fetch("/api/posts/".concat(e),{method:"DELETE"});return(null==t?void 0:t.ok)||(0,m.toast)({title:"Something went wrong.",message:"Your post was not deleted. Please try again.",type:"error"}),!0}function h(e){let{post:t}=e,n=(0,a.useRouter)(),[i,u]=s.useState(!1),[d,m]=s.useState(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.h,{children:[(0,r.jsxs)(c.h.Trigger,{className:"flex h-8 w-8 items-center justify-center rounded-md border transition-colors hover:bg-slate-50",children:[(0,r.jsx)(l.P.ellipsis,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Open"})]}),(0,r.jsx)(c.h.Portal,{children:(0,r.jsxs)(c.h.Content,{children:[(0,r.jsx)(c.h.Item,{children:(0,r.jsx)(o(),{href:"/editor/".concat(t.id),className:"flex w-full",children:"Edit"})}),(0,r.jsx)(c.h.Separator,{}),(0,r.jsx)(c.h.Item,{className:"flex cursor-pointer items-center text-red-600 focus:bg-red-50",onSelect:()=>u(!0),children:"Delete"})]})})]}),(0,r.jsx)(f,{open:i,onOpenChange:u,children:(0,r.jsxs)(f.Content,{children:[(0,r.jsxs)(f.Header,{children:[(0,r.jsx)(f.Title,{children:"Are you sure you want to delete this post?"}),(0,r.jsx)(f.Description,{children:"This action cannot be undone."})]}),(0,r.jsxs)(f.Footer,{children:[(0,r.jsx)(f.Cancel,{children:"Cancel"}),(0,r.jsxs)(f.Action,{async onClick(e){e.preventDefault(),m(!0);let r=await x(t.id);r&&(m(!1),u(!1),n.refresh())},className:"bg-red-600 focus:ring-red-600",children:[d?(0,r.jsx)(l.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(l.P.trash,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Delete"})]})]})]})})]})}},1292:function(e,t,n){"use strict";n.d(t,{P:function(){return P}});var r=n(9242),s=n(7860),i=n(7779),o=n(139),a=n(6170),c=n(4428),l=n(206),u=n(6538),d=n(44),f=n(6047),m=n(2717),x=n(3833),h=n(3274),p=n(9025),g=n(9890),j=n(740),b=n(6469),w=n(657),v=n(5684),N=n(4934),y=n(487);let P={logo:r.Z,close:s.Z,spinner:i.Z,chevronLeft:o.Z,chevronRight:a.Z,trash:c.Z,post:l.Z,page:u.Z,media:d.Z,settings:f.Z,billing:m.Z,ellipsis:x.Z,add:h.Z,warning:p.Z,user:g.Z,arrowRight:j.Z,help:b.Z,pizza:w.Z,gitHub:v.Z,twitter:N.Z,check:y.Z}},7255:function(e,t,n){"use strict";n.d(t,{cn:function(){return i},p:function(){return o}});var r=n(5924),s=n(2057);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m)((0,r.W)(t))}function o(e){let t=new Date(e);return t.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}},7764:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(4193),s=n(933),i=n(5119),o=n(7255);function a(e){let{...t}=e;return(0,r.jsx)(i.fC,{...t})}a.Trigger=s.forwardRef(function(e,t){let{...n}=e;return(0,r.jsx)(i.xz,{...n,ref:t})}),a.Portal=i.Uv,a.Content=s.forwardRef(function(e,t){let{className:n,...s}=e;return(0,r.jsx)(i.VY,{ref:t,align:"end",className:(0,o.cn)("overflow-hidden rounded-md border border-slate-50 bg-white shadow-md animate-in slide-in-from-top-1 md:w-32",n),...s})}),a.Item=s.forwardRef(function(e,t){let{className:n,...s}=e;return(0,r.jsx)(i.ck,{ref:t,className:(0,o.cn)("flex cursor-default select-none items-center py-2 px-3 text-sm text-slate-600 outline-none focus:bg-slate-50 focus:text-black",n),...s})}),a.Separator=s.forwardRef(function(e,t){let{className:n,...s}=e;return(0,r.jsx)(i.Z0,{ref:t,className:(0,o.cn)("h-px bg-slate-200",n),...s})})},3530:function(e,t,n){"use strict";n.r(t),n.d(t,{Toast:function(){return c},Toaster:function(){return a},toast:function(){return l}});var r=n(4193);n(933);var s=n(756),i=n(7255),o=n(1292);let a=s.x7;function c(e){let{visible:t,className:n,...s}=e;return(0,r.jsx)("div",{className:(0,i.cn)("min-h-16 mb-2 flex w-[350px] flex-col items-start gap-1 rounded-md bg-white px-6 py-4 shadow-lg",t&&"animate-in slide-in-from-bottom-5",n),...s})}function l(e){let{title:t,message:n,type:o="default",duration:a=3e3}=e;return s.ZP.custom(e=>{let{visible:s}=e;return(0,r.jsxs)(c,{visible:s,className:(0,i.cn)({"bg-red-600 text-white":"error"===o,"bg-black text-white":"success"===o}),children:[(0,r.jsx)(c.Title,{children:t}),n&&(0,r.jsx)(c.Description,{children:n})]})},{duration:a})}c.Icon=function(e){let{name:t,className:n,...s}=e,a=o.P[t];return a?(0,r.jsx)("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-slate-100",children:(0,r.jsx)(a,{className:(0,i.cn)("h-10 w-10",n),...s})}):null},c.Title=function(e){let{className:t,...n}=e;return(0,r.jsx)("p",{className:(0,i.cn)("text-sm font-medium",t),...n})},c.Description=function(e){let{className:t,...n}=e;return(0,r.jsx)("p",{className:(0,i.cn)("text-sm opacity-80",t),...n})}},8420:function(){}},function(e){e.O(0,[849,6353,6606,4528,2832,3670,8278,1744],function(){return e(e.s=1846)}),_N_E=e.O()}]);